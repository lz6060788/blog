## 新增需求

### 需求：会话创建
系统应在用户成功认证后创建会话。

#### 场景：登录后创建会话
- **当** 用户通过 OAuth 成功登录
- **则** 系统创建新的会话记录
- **且** 会话包含有效的 sessionToken
- **且** 会话有明确的过期时间

#### 场景：会话数据结构
- **当** 会话被创建
- **则** 会话包含用户 ID、过期时间和会话令牌
- **且** 会话存储在 sessions 表中

### 需求：会话验证
系统应能够验证用户会话的有效性。

#### 场景：验证有效会话
- **当** 应用请求当前用户会话
- **则** 系统检查会话令牌是否存在于数据库
- **且** 系统验证会话未过期
- **且** 系统返回用户信息

#### 场景：验证无效会话
- **当** 提供的会话令牌无效或已过期
- **则** 系统返回 null 或未认证状态
- **且** 客户端显示未登录界面

### 需求：会话更新
系统应在用户活动时更新会话过期时间。

#### 场景：自动延长会话
- **当** 用户在会话期间持续使用应用
- **则** 系统自动延长会话过期时间
- **且** 用户不会因为不活动而被意外登出

### 需求：会话销毁
系统应支持主动和被动的会话销毁。

#### 场景：用户登出
- **当** 用户主动点击登出按钮
- **则** 系统从数据库删除会话记录
- **且** 清除客户端的会话 cookie
- **且** 用户返回未认证状态

#### 场景：会话过期
- **当** 会话超过过期时间
- **则** 系统将过期会话视为无效
- **且** 用户需要重新登录

### 需求：客户端会话访问
系统应提供客户端 hooks 访问会话状态。

#### 场景：使用 useSession hook
- **当** 客户端组件使用 `useSession()` hook
- **则** hook 返回当前会话状态（data、status）
- **且** status 可以是 "loading"、"authenticated" 或 "unauthenticated"
- **且** 组件可以根据状态渲染不同 UI

#### 场景：服务端访问会话
- **当** 服务端组件需要访问会话
- **则** 可以使用 `auth()` 函数获取当前会话
- **且** 无需额外的 API 请求
