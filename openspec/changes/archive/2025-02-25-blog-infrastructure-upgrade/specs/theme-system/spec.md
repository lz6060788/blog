## 新增需求

### 需求：主题配置文件
系统应提供一个集中化的主题配置文件，使用 CSS 自定义属性定义所有颜色变量。

#### 场景：主题配置创建
- **当** 实现主题系统时
- **那么** 系统应在项目根目录创建 theme.config.ts 文件
- **并且** 配置应导出浅色和深色模式的颜色定义
- **并且** 系统应从此配置生成 CSS 自定义属性

### 需求：保留当前亮色主题
系统应将当前项目使用的 zinc 色系保留为亮色主题，不改变现有视觉设计。

#### 场景：亮色主题颜色保留
- **当** 亮色主题激活时
- **那么** 系统应使用 zinc-50 (#fafafa) 作为主背景色
- **并且** 系统应使用 white (#ffffff) 作为卡片和容器背景
- **并且** 系统应使用 zinc-900 (#18181b) 作为主文本色
- **并且** 系统应使用 zinc-500 (#71717a) 作为次级文本色
- **并且** 系统应使用 zinc-200 (#e4e4e7) 作为边框和分割线颜色
- **并且** 系统应使用 emerald 系列作为强调色（emerald-50、emerald-400、emerald-700）

### 需求：CSS 自定义属性
系统应使用 CSS 自定义属性（CSS 变量）来设置所有主题颜色，而不是硬编码的 Tailwind 颜色值。

#### 场景：语义化颜色变量
- **当** 定义主题颜色时
- **那么** 系统应创建语义化的 CSS 变量（而非简单的 primary/secondary）
- **并且** 变量应包括：--bg-primary、--bg-secondary、--bg-tertiary、--text-primary、--text-secondary、--text-tertiary、--border-default、--accent-primary、--accent-secondary、--accent-bg
- **并且** 系统应使用语义化前缀便于理解和维护
- **并且** 变量应可在运行时更新而无需重新构建

### 需求：暗色模式色彩设计
系统应根据 frontend-design 美学规范设计暗色主题，确保与亮色主题形成协调对比而非简单反转。

#### 场景：暗色主题背景色
- **当** 暗色主题激活时
- **那么** 系统应使用深色调作为主背景（推荐 zinc-950 #09090b 或更深的自定义色）
- **并且** 系统应使用稍浅的色调作为次级背景（推荐 zinc-900 #18181b）
- **并且** 系统应确保背景色之间有足够的层次感但不刺眼

#### 场景：暗色主题文本色
- **当** 暗色主题激活时
- **那么** 系统应使用浅色调作为主文本（推荐 zinc-50 或 zinc-100）
- **并且** 系统应使用中等浅色调作为次级文本（推荐 zinc-400）
- **并且** 系统应确保文本与背景对比度符合 WCAG AA 标准（至少 4.5:1）

#### 场景：暗色主题边框色
- **当** 暗色主题激活时
- **那么** 系统应使用低对比度的边框色（推荐 zinc-800）
- **并且** 边框应在深色背景上微妙可见但不突兀

#### 场景：暗色主题强调色
- **当** 暗色主题激活时
- **那么** 系统应调整 emerald 强调色以在深色背景上保持良好可见性
- **并且** 系统可能需要使用更亮的 emerald 变体（如 emerald-400、emerald-500）
- **并且** 强调色背景应使用更深的变体（如 emerald-950）

### 需求：三种主题模式
系统应支持三种主题模式：浅色、深色和自动（系统偏好）。

#### 场景：浅色模式选择
- **当** 用户选择浅色模式时
- **那么** 系统应应用当前项目的 zinc 亮色主题
- **并且** 系统应持久化选择

#### 场景：深色模式选择
- **当** 用户选择深色模式时
- **那么** 系统应应用精心设计的暗色主题
- **并且** 系统应持久化选择

#### 场景：自动模式选择
- **当** 用户选择自动模式时
- **那么** 系统应检测系统颜色方案偏好
- **并且** 系统应根据操作系统设置应用浅色或深色主题
- **并且** 默认应为浅色主题以保持项目原有视觉风格

### 需求：主题持久化
系统应使用 localStorage 在浏览器会话之间持久化用户的主题偏好。

#### 场景：保存主题偏好
- **当** 用户更改主题选择时
- **那么** 系统应将偏好保存到 localStorage
- **并且** 系统应使用 "blog-theme" 键

#### 场景：加载主题偏好
- **当** 应用程序加载时
- **那么** 系统应从 localStorage 读取主题偏好
- **并且** 系统应应用已保存的主题（如果可用）
- **并且** 系统应在不存在偏好时默认为浅色主题

### 需求：Tailwind CSS 集成
系统应将 CSS 自定义属性与 Tailwind CSS 配置集成，同时保持现有 zinc 色系的类名可用。

#### 场景：Tailwind 颜色映射
- **当** Tailwind 处理样式时
- **那么** 系统应在 Tailwind 配置中扩展 zinc 颜色以引用 CSS 变量
- **并且** 系统应确保 bg-zinc-50、text-zinc-900 等现有类名继续工作
- **并且** 系统应使用 css() 函数进行动态颜色引用

### 需求：主题上下文提供程序
系统应提供用于整个应用程序主题状态管理的 React 上下文。

#### 场景：主题提供程序设置
- **当** 应用程序挂载时
- **那么** 系统应使用 ThemeProvider 包装应用程序
- **并且** 提供程序应向子组件公开当前主题和 setTheme 函数
- **并且** 默认主题应为浅色以保持项目原有视觉风格

#### 场景：主题切换访问
- **当** 组件需要主题信息时
- **那么** 组件应使用 useTheme hook
- **并且** hook 应返回 { theme, setTheme } 对象
- **并且** theme 值应为 'light' | 'dark' | 'system'

### 需求：主题切换组件
系统应提供主题切换 UI 组件，用于在浅色、深色和自动模式之间切换。

#### 场景：主题切换器显示
- **当** 渲染主题切换组件时
- **那么** 系统应显示三个选项：浅色、深色、自动
- **并且** 系统应指示当前活动的主题
- **并且** 系统应在用户选择不同选项时更新主题
- **并且** 切换器应遵循 frontend-design 美学规范，具有精致的视觉效果

### 需求：平滑主题过渡
系统应在主题之间切换时应用平滑的 CSS 过渡效果，确保颜色切换自然流畅。

#### 场景：主题更改动画
- **当** 用户在主题之间切换时
- **那么** 系统应向 background-color、color、border-color 等颜色属性应用 300ms 过渡效果
- **并且** 过渡时间函数应使用 ease-in-out 曲线
- **并且** 系统应避免对非颜色属性（如布局）应用过渡以防止视觉跳动

### 需求：视觉一致性
系统应确保暗色主题保持与亮色主题相同的设计语言和美学风格。

#### 场景：设计语言保持
- **当** 暗色主题激活时
- **那么** 系统应保持相同的圆角风格（rounded-[2rem]）
- **并且** 系统应保持相同的阴影效果（可能需要调整颜色值）
- **并且** 系统应保持相同的间距和布局比例
- **并且** 系统应确保所有交互状态（hover、focus）在两种主题下都有清晰的视觉反馈
