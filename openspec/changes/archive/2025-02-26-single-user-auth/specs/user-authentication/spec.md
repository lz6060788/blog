## MODIFIED Requirements

### Requirement: OAuth 登录支持
系统应支持通过 GitHub 和 Google OAuth 提供商进行用户认证，但仅允许白名单用户登录。

#### 场景：通过登录页使用 GitHub 登录（白名单用户）
- **当** 白名单用户在登录页面点击"使用 GitHub 登录"按钮
- **则** 系统重定向到 GitHub OAuth 授权页面
- **且** 用户授权后系统验证用户邮箱是否在白名单中
- **且** 邮箱匹配时系统创建/更新用户账户
- **且** 用户被重定向回登录页面
- **且** 登录页面检测到登录成功后重定向到目标页面

#### 场景：通过登录页使用 GitHub 登录（非白名单用户）
- **当** 非白名单用户在登录页面点击"使用 GitHub 登录"按钮
- **则** 系统重定向到 GitHub OAuth 授权页面
- **且** 用户授权后系统验证用户邮箱
- **且** 邮箱不匹配时系统拒绝登录
- **且** 用户被重定向回登录页面并显示错误信息
- **且** 不创建用户账户或会话

#### 场景：通过登录页使用 Google 登录（白名单用户）
- **当** 白名单用户在登录页面点击"使用 Google 登录"按钮
- **则** 系统重定向到 Google OAuth 授权页面
- **且** 用户授权后系统验证用户邮箱是否在白名单中
- **且** 邮箱匹配时系统创建/更新用户账户
- **且** 用户被重定向回登录页面
- **且** 登录页面检测到登录成功后重定向到目标页面

#### 场景：通过登录页使用 Google 登录（非白名单用户）
- **当** 非白名单用户在登录页面点击"使用 Google 登录"按钮
- **则** 系统重定向到 Google OAuth 授权页面
- **且** 用户授权后系统验证用户邮箱
- **且** 邮箱不匹配时系统拒绝登录
- **且** 用户被重定向回登录页面并显示错误信息
- **且** 不创建用户账户或会话

### Requirement: 环境配置
系统应通过环境变量配置 OAuth 提供商凭据和管理员邮箱。

#### 场景：配置管理员邮箱
- **当** `ADMIN_EMAIL` 环境变量已设置
- **则** 系统使用该邮箱作为白名单验证标准
- **且** 只有匹配该邮箱的用户可以登录

#### 场景：未配置管理员邮箱
- **当** `ADMIN_EMAIL` 环境变量未设置
- **则** 系统在启动时抛出错误
- **且** 禁用所有登录功能

## REMOVED Requirements

### Requirement: 登录页面社交证明
**Reason**: 单用户博客不需要显示用户数量等多用户社交证明元素
**Migration**: 移除登录页面的社交证明组件和配置

### Requirement: 社交证明显示用户数量
**Reason**: 单用户博客不需要显示用户数量
**Migration**: 删除相关的数据库查询和 UI 组件
