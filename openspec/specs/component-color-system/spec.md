# 组件颜色系统规范

## 新增需求

### 需求：组件级颜色命名空间

系统应为每个 UI 组件提供独立的颜色命名空间。

#### 场景：按钮组件使用独立颜色

- **当** 按钮组件定义颜色变量
- **则** 系统使用 `btn-*` 前缀命名所有按钮相关变量
- **且** 变量命名格式为 `--btn-{variant}-{property}-{state}`
- **且** 示例变量包括 `--btn-default-bg`、`--btn-ghost-bg-hover` 等

#### 场景：开关组件使用独立颜色

- **当** 开关组件定义颜色变量
- **则** 系统使用 `swt-*` 前缀命名所有开关相关变量
- **且** 变量命名格式为 `--swt-{state}-{property}`
- **且** 示例变量包括 `--swt-bg-checked`、`--swt-bg-unchecked` 等

#### 场景：对话框组件使用独立颜色

- **当** 对话框组件定义颜色变量
- **则** 系统使用 `dlg-*` 前缀命名所有对话框相关变量
- **且** 变量命名格式为 `--dlg-{element}-{property}`
- **且** 示例变量包括 `--dlg-overlay-bg`、`--dlg-content-bg` 等

#### 场景：头像组件使用独立颜色

- **当** 头像组件定义颜色变量
- **则** 系统使用 `avt-*` 前缀命名所有头像相关变量
- **且** 变量命名格式为 `--avt-{element}-{property}`
- **且** 示例变量包括 `--avt-fallback-bg`、`--avt-fallback-fg` 等

#### 场景：下拉菜单组件使用独立颜色

- **当** 下拉菜单组件定义颜色变量
- **则** 系统使用 `ddm-*` 前缀命名所有下拉菜单相关变量
- **且** 变量命名格式为 `--ddm-{element}-{property}`
- **且** 示例变量包括 `--ddm-content-bg`、`--ddm-item-bg-hover` 等

#### 场景：表格组件使用独立颜色

- **当** 表格组件定义颜色变量
- **则** 系统使用 `tbl-*` 前缀命名所有表格相关变量
- **且** 变量命名格式为 `--tbl-{element}-{property}`
- **且** 示例变量包括 `--tbl-row-bg-hover`、`--tbl-head-fg` 等

#### 场景：侧边栏组件使用独立颜色

- **当** 侧边栏组件定义颜色变量
- **则** 系统使用 `sht-*` 前缀命名所有侧边栏相关变量
- **且** 变量命名格式为 `--sht-{element}-{property}`
- **且** 示例变量包括 `--sht-overlay-bg`、`--sht-content-bg` 等

### 需求：组件简写命名

系统应使用一致的组件简写来保持类名简洁。

#### 场景：组件简写映射

- **当** 定义组件颜色变量
- **则** 系统使用以下简写映射：
  - `btn` → Button
  - `swt` → Switch
  - `dlg` → Dialog
  - `avt` → Avatar
  - `ddm` → DropdownMenu
  - `tbl` → Table
  - `sht` → Sheet

### 需求：三层颜色变量架构

系统应采用三层架构组织颜色变量：颜色清单层、配置映射层、组件使用层。

#### 场景：颜色清单层定义

- **当** 定义主题色数值时
- **则** 系统在 `global.css` 中创建 CSS 自定义属性
- **且** 变量使用纯颜色值（如 `#18181b`、`transparent`）
- **且** 变量不包含 shadcn/ui 语义（如使用 `--btn-default-bg` 而非 `--primary`）

#### 场景：配置映射层定义

- **当** 创建 Tailwind 颜色映射时
- **则** 系统在 `tailwind.config.ts` 中添加组件颜色配置
- **且** 配置路径为 `theme.colors.theme.{component}.{property}`
- **且** 配置值引用 CSS 变量（如 `var(--btn-default-bg)`）

#### 场景：组件使用层定义

- **当** 组件引用颜色时
- **则** 系统使用 Tailwind 类名 `{type}-theme-{component}-{property}`
- **且** 示例类名包括 `bg-theme-btn-default-bg`、`text-theme-btn-default-fg`
- **且** 类名通过 Tailwind 配置解析为 CSS 变量引用

### 需求：状态颜色支持

系统应支持组件在不同交互状态下的颜色定义。

#### 场景：悬停状态颜色

- **当** 定义悬停状态颜色
- **则** CSS 变量使用 `-hover` 后缀
- **且** 示例变量为 `--btn-default-bg-hover`、`--ddm-item-bg-hover`

#### 场景：聚焦状态颜色

- **当** 定义聚焦状态颜色
- **则** CSS 变量使用 `-focus` 后缀
- **且** 示例变量为 `--swt-ring-color`

#### 场景：激活/选中状态颜色

- **当** 定义激活或选中状态颜色
- **则** CSS 变量使用 `-active` 或 `-checked` 后缀
- **且** 示例变量为 `--swt-bg-checked`、`--tbl-row-bg-selected`

### 需求：主题切换支持

组件颜色变量应在浅色和深色主题下分别定义。

#### 场景：浅色主题变量

- **当** 系统处于浅色模式
- **则** 组件颜色使用 `:root` 中定义的变量值
- **且** 背景色使用较浅的颜色值
- **且** 文字色使用较深的颜色值

#### 场景：深色主题变量

- **当** 系统处于深色模式
- **则** 组件颜色使用 `.dark` 中定义的变量值
- **且** 背景色使用较深的颜色值
- **且** 文字色使用较浅的颜色值
